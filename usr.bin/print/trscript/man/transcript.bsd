.TH TRANSCRIPT 8 "12 Nov 1985" "Adobe Systems"
\" RCSID: $Header: /d2/3.7/src/usr.bin/print/trscript/man/RCS/transcript.bsd,v 1.1 89/03/27 18:20:18 root Exp $
.ds PS P\s-2OST\s+2S\s-2CRIPT\s+2
.ds TS T\s-2RAN\s+2S\s-2CRIPT\s+2
.SH NAME
pscomm, ps?f, psbad, psrv, pstext, psbanner, psint \- T\s-2RAN\s+2S\s-2CRIPT\s+2 spooler filters for P\s-2OST\s+2S\s-2CRIPT\s+2 printers
.SH "SYNOPSIS"
.B XPSLIBDIRX/ps*
.SH "DESCRIPTION"
These are the low-level \*(TS interface filters for use by the 
4.2BSD line printer spooling system through the printer description file 
.IR /etc/printcap .  
The 
.I ps?f
entries are all links to the 
.I psint.sh
shell script.  This script uses argv[0] (the name it was invoked under)
to determine which action to take.
The options are as specified in the
.I 4.2BSD Line Printer Spooler Manual.  
This shell script sources a printer-specific shell script named 
.I .options
in the current working directory (the spooling directory) which
may do additional printer-specific processing (e.g., specify 
no page reversal).  The 
.I psof
entry is responsible for formatting a banner break page.  It exec's
the 
.I psbanner
filter which leaves the banner page in a file named ``.banner''
for 
.I pscomm 
to print.
The program 
.I pscomm
is the lowest level filter.  It manages communication with the printer,
error handling, status reporting, etc.
It distinguishes between text files (which get formatted) and \*(PS print 
files.  If the input to 
.I pscomm
does not begin with the \*(PS 
.B magic number
\- the first two characters being ``%!'' \-
.I pscomm
will invoke
.I pstext
to list the file on the printer.
If the first bytes of the input file are ``%!PS-Adobe-'',
and if the printer options so specify,
.I pscomm
will also page-reverse the file (with the
.I psrv
filter) before printing.
.PP
All other ``formatting'' filters run
.I pscomm
at the far end of a pipeline, the nearer end doing translation to \*(PS only.
.I psgf, psnf, and pstf,
are the filters for
.IR plot (5), 
.IR ditroff (1), 
and
.IR  troff (1)
respectively.  
The 
.I psif
filter will also accept any \*(PS print file, such as those 
generated by Scribe.
Other filter entries, such as those for 
.I TeX DVI 
files,
.I cifplot,
and raw raster data are not yet in place, and may be available from
other sources.
The current action for these filter types is to execute 
.I psbad,
a script which prints and logs an error message that the
translation filter is not available.
The translation filters are usually invoked by giving an option to
.IR lpr (1).
It is not correct to invoke the interface filters
directly.  More flexibility in format conversion may be achieved by
avoiding the filter/translation step via an
.I lpr
option, and invoking a translator directly.
.SH FILES
.TP
XPSLIBDIRX/
\*(PS library, prologues, filters, etc.
.TP
XPSTEMPDIRX/RV*
Temporary files for 
.I psrv.
.IP ".options"
Printer-specific options script (in the printer spool directory).
.TP
\fIprinter\fP.acct
Printer accounting file.
.TP
\fIprinter\fP-log
Printer log file.
.IP ".banner"
Break page temporary (in the spool directory) , generated by 
.IR psof/psbanner .
.TP
status
Printer status file (in the spool directory), shared by 
.IR lpd (8),
and
.IR pscomm .
.SH "SEE ALSO"
lpr(1), lpc(8), lpd(8), printcap(5).
.br
enscript(1), ps4014(1), ps630(1), pscat(1), psdit(1), psrev(1), psroff(1), ptroff(1).
.br
.I 4.2BSD Line Printer Spooler Manual
.SH AUTHOR
Adobe Systems Incorporated
.SH NOTES
\*(PS and \*(TS are trademarks of Adobe Systems Incorporated.
.br
Scribe and Unilogic are registered trademarks of Unilogic, Ltd.
.br
TeX is a trademark of the American Mathematical Society.
